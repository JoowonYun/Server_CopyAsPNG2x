<html>
  <head>
  </head>
  <body>
    <img id="base64img" src="">
    <script type="text/javascript">
      const url = new URL(location.href)
    
      const img = url.searchParams.get("data")
      var imgElm = document.getElementById("base64img")
      imgElm.src = "data:image/png;base64," + img.replace(/-/g, '+').replace(/_/g, '/')

      // for copy
      var canvas = document.createElement("canvas")
      canvas.width = imgElm.clientWidth;
      canvas.height = imgElm.clientHeight;

      let context = canvas.getContext('2d');

      context.drawImage(imgElm, 0, 0);
      
      try {
          canvas.toBlob((blob) => { 
            console.log(blob)
            const item = new ClipboardItem({"image/png": blob });
            navigator.clipboard.write([item]); 
          });
        } catch (error) {
          console.log(error)
        }
      
    </script>
  </body>
</html>
