<head>
    <link rel="stylesheet" href="../stylesheets/stylesheet.css">
</head>

<div class="snackbar">
    <svg class="icon_check" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M18 5.55789C18 5.65874 17.9587 5.75534 17.8855 5.82588L7.43653 15.893C7.28845 16.0357 7.05168 16.0357 6.9036 15.893L2.11449 11.2789C2.04127 11.2084 2 11.1118 2 11.0109C2 10.9101 2.04127 10.8135 2.11449 10.7429L3.34224 9.56002C3.49019 9.41748 3.72671 9.41734 3.87484 9.5597L7.16987 12.7265L16.125 4.10688C16.2731 3.96433 16.5097 3.96438 16.6578 4.107L17.8855 5.28989C17.9587 5.36043 18 5.45703 18 5.55789Z" fill="#9A81FF"/>
    </svg>
    <span class="message">Copy PNG@2x completed!</span>
</div>

<div class="wrap">
    <img id="base64img" src='data:image/png;base64,{{.image}}'>
</div>
<script type="text/javascript">
    var imgElm = document.getElementById("base64img")
    // for copy
    var canvas = document.createElement("canvas")
    canvas.width = imgElm.clientWidth * 2;
    canvas.height = imgElm.clientHeight * 2;

    let context = canvas.getContext('2d');

    context.drawImage(imgElm, 0, 0);

    try {
        canvas.toBlob((blob) => { 
            const item = new ClipboardItem({"image/png": blob });
            navigator.clipboard.write([item]); 
        });
    } catch (error) {
        console.log(error)
    }
</script>
